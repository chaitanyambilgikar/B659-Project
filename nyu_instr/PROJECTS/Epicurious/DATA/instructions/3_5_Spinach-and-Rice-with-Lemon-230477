Heat butter in a 1- to 2-quart heavy saucepan over moderately low heat until foam subsides, then cook shallots, stirring occasionally, until beginning to turn golden, about 2 minutes. Add rice and cook, stirring constantly, until grains turn opaque, about 2 minutes. Reduce heat to low, then stir in broth and cook, covered, until liquid is absorbed and rice is just tender, about 15 minutes. Remove from heat and let stand, covered, until ready to use.
While rice is cooking, heat oil in a 6- to 8-quart heavy pot over moderate heat until hot but not smoking, then cook garlic, stirring constantly, until it begins to turn golden, about 1 minute. Add all of spinach, salt, and pepper and cook, turning and stirring with tongs, until wilted and tender, about 3 minutes. Stir in 2 teaspoons lemon juice, then add rice and stir until just combined. Season with salt and pepper, then add up to 1 tablespoon lemon juice (to taste).
