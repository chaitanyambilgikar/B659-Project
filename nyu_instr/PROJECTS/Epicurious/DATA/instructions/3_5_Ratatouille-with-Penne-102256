Preheat oven to 450°F.
Stir together eggplants, onions, 1/4 cup oil, and kosher salt in a large roasting pan, then roast mixture in middle of oven, stirring occasionally, 15 minutes. Stir in squash, bell peppers, 2 tablespoons oil, and more kosher salt and roast mixture, stirring occasionally, until bell peppers are tender, 25 to 30 minutes.
While vegetables are roasting, simmer tomatoes, garlic, thyme, remaining 2 tablespoons oil, and kosher salt in a heavy saucepan, stirring occasionally, until thickened, 12 to 15 minutes. Stir tomatoes into roasted vegetables and season ratatouille.
Cook penne rigate in a 6-qt. pot of boiling salted water until al dente and drain. While pasta is cooking, stir parsley and basil into ratatouille and season. Toss penne rigate with 1/3 of ratatouille and serve topped with remainder.
