Cook shrimp in a 4-quart pot of boiling salted water * until just cooked through, about 1 1/2 minutes. Drain shrimp in a colander, then immediately transfer to a large bowl of ice water to stop cooking.
Preheat oven to 350°F.
Mash garlic to a paste with 1/4 teaspoon salt using a mortar and pestle (or mince and mash garlic with salt using a large knife), then stir together with fresh and dried herbs, shallot, onion, 1 1/2 sticks (3/4 cup) butter, 1 cup bread crumbs, nutmeg, mace, 3/4 teaspoon salt, and 1/4 teaspoon pepper.
Melt remaining 1/2 stick butter and stir together with remaining 1/2 cup bread crumbs, 1/2 teaspoon salt, and 1/4 teaspoon pepper to make topping.
Arrange shrimp in 1 layer (slightly overlapping if necessary) in a buttered 3-quart flameproof gratin dish or other wide shallow ceramic baking dish. Cover with herbed breadcrumb mixture, then sprinkle with topping. Bake in upper third of oven until golden, about 15 minutes. Turn on broiler and broil until crumbs are golden brown, about 2 minutes.
* When salting water for cooking, use 1 tablespoon for every 4 quarts water.
