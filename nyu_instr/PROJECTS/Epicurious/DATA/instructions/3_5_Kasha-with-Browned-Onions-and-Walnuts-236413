Stir together kasha and egg until coated well, then cook in a dry 3 1/2- to 4-quart heavy saucepan over moderate heat, stirring constantly, until grains smell toasty and begin to separate, about 2 minutes. Add boiling-hot water, 1/2 teaspoon salt, and 1/4 teaspoon pepper and simmer, covered, over low heat until kasha is barely tender and most of water is absorbed, about 12 minutes. Remove from heat and let stand, covered, 10 minutes.
While kasha cooks, toast walnuts in 1 tablespoon butter in a 12-inch heavy skillet over moderate heat, stirring frequently, 5 minutes. Transfer nuts to a plate, then add oil and remaining 1/2 tablespoon butter to skillet and heat over moderate heat until foam subsides. Add onion and thyme and cook, stirring occasionally, until softened and browned, about 15 minutes.
Stir kasha into onion along with walnuts, parsley, and remaining 1/4 teaspoon salt and 1/4 teaspoon pepper.
