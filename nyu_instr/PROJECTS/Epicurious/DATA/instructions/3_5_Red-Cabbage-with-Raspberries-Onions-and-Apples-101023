Melt butter in heavy large pot over medium heat. Add shallots and sauté until tender, about 2 minutes. Add cabbage, onions, apples, vinegar and sugar to pot. Cook until cabbage is limp, stirring frequently, about 15 minutes. Add raspberries. Cook until most of liquid has evaporated, about 25 minutes. Season to taste with salt and pepper. (Can be prepared 2 days ahead. Cover and refrigerate. Rewarm over medium heat before serving.)
