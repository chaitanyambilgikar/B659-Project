Cook shallots and garlic in oil in a 4- to 5-quart heavy pot over moderately low heat, stirring occasionally, until golden brown, about 10 minutes. Add rice and cook, stirring, until it releases a nutty aroma, about 3 minutes. Add broth and water and bring to a boil, stirring occasionally, then reduce heat and simmer, covered, until rice is tender (grains will split open), about 1 1/4 hours.
Meanwhile, preheat broiler.
Halve bell peppers lengthwise, then discard stems and seeds. Put peppers, cut sides down, in 1 layer in an oiled shallow baking pan. Broil 2 inches from heat until charred and softened, 15 to 18 minutes. Transfer to a bowl. Cover and let steam 15 minutes. Peel, then cut into 1/2-inch pieces.
Melt butter in a 12-inch heavy skillet over moderate heat, then add almonds and cook, stirring, until golden, 5 to 8 minutes.
Remove rice from heat and drain well, then return to pot. Stir in salt, pepper, red peppers, almonds, and vinegar. Transfer to a serving dish.
