Preheat oven to 425°F. Mix onions, shallots, thyme sprigs, and oil in a large roasting pan. Season with salt and pepper.
Roast onion mixture, stirring and scraping down sides of pan every 10 minutes, until mixture starts to break down and turn golden brown, 45–55 minutes.
Discard thyme sprigs. Add wine and vinegar; stir to scrape up any browned bits from bottom of pan. Return onion mixture to oven. Continue roasting, stirring occasionally, until deep golden brown and completely caramelized, about 15 minutes longer. Spread onion mixture out on a rimmed baking sheet to cool.
Transfer onion mixture to a work surface and mince. Transfer to a medium bowl. Stir in sour cream, chives, yogurt, and onion powder. Season with salt and pepper. DO AHEAD: Dip can be made 3 days ahead. Cover; chill.
