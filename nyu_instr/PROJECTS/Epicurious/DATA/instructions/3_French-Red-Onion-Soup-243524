Bring broth, water, spices, and 1/2 teaspoon salt to a boil. Remove from heat and let steep 15 minutes.
Meanwhile, cook onions in oil with 1/4 teaspoon salt in a heavy medium pot over medium heat, covered, stirring occasionally, until deep golden, about 15 minutes. Add wine and boil, uncovered, until reduced to 2 tablespoons, about 1 minute.
Strain broth through a sieve into onion mixture and briskly simmer, uncovered, 10 minutes. Season with salt.
Preheat broiler.
Ladle soup into 4 ovenproof bowls set in a 4-sided sheet pan. Place baguette slices on top and sprinkle each with 1/2 cup cheese. Broil about 6 inches from heat until cheese is melted and bubbling, about 2 minutes.
