Preheat the oven to 375°F. Toast the nuts until fragrant, about 7 or 8 minutes, and chop them medium-fine. Combine the flour, brown sugar, granulated sugar, cinnamon, and salt in a mixing bowl. Cut the butter into small pieces. Work it into the flour mixture with your fingers until crumbly. Add the chopped nuts and mix well — the topping should hold together when squeezed. (The topping can be prepared up to a week ahead and refrigerated.)
Put the diced pears in a large mixing bowl. Add the sugar and taste; adjust if necessary. Sprinkle the flour over the pears and mix gently. Turn the mixture into an earthenware dish just large enough to hold the fruit, slightly mounded at the center. Spoon the topping over the pears, pressing down lightly. Place the dish on a baking sheet to catch any overflow and bake on the center rack of the oven for 40 to 50 minutes, until the topping is dark golden brown and the juices have thickened slightly. Serve warm with ice cream or Armagnac-flavored whipped cream.
Variations: Other fruits may be substituted with the same general proportions, but some fruits require more or less sugar and flour, depending on their natural sweetness and juiciness. Rhubarb, for instance, requires more of both; apples require no flour at all.
