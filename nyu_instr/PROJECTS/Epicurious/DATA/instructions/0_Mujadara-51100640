1. Heat the olive oil in a very large nonstick skillet over low heat (if you only have smaller skillets, divide the oil and onions between two). When the oil shimmers, add the onions and cook, stirring frequently, until golden, 15 to 20 minutes. Season with salt and pepper to taste.
2. Meanwhile, bring 4 1/2 cups water to a boil in a large saucepan or small stockpot and add the lentils. Simmer, uncovered, for 20 minutes, then add the rice and half the cooked onions. Season with salt and pepper to taste. Simmer, covered, over very low heat until the lentils and rice are tender, about 20 minutes more. You may need to add more water toward the end; check after 15 minutes. Remove from the heat and let rest, covered, for 5 minutes.
3. While the rice and lentils are cooking, cook the onions remaining in the skillet over low heat, stirring often, until dark brown and nearly crisp, 15 to 20 minutes.
4. Serve hot or at room temperature, with browned onions sprinkled on top. Add a dollop of the yogurt or sour cream if desired.
