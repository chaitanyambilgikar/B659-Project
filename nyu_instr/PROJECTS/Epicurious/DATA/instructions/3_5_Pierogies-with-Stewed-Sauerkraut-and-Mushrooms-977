Melt 2 tablespoons butter in heavy large Dutch oven over medium-high heat. Add onions; sprinkle with salt and pepper. Sauté until golden brown, about 30 minutes. Add mushrooms and sauté until tender, about 10 minutes. Mix in sauerkraut and flour. Mix in 2/3 cup water. Cover pot, reduce heat to medium and simmer until sauerkraut is tender and mixture is thick, stirring occasionally and adding more water by tablespoonfuls if mixture seems dry, about 20 minutes. Mix in 2 tablespoons butter. Season generously with salt and pepper. (Can be prepared 2 days ahead. Cover and refrigerate. Rewarm over low heat before continuing.)
Meanwhile, cook pierogies in large pot of boiling salted water until heated through, about 6 minutes. Drain; transfer to large bowl and toss with remaining 4 tablespoons butter.
Spoon sauerkraut mixture into large shallow bowl. Top with pierogies. Serve with sour cream.
