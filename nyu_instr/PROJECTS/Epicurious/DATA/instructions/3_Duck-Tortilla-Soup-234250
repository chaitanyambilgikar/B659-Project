Make soup: Purée tomatoes, onion, cilantro, shallots, and garlic in a food processor until smooth, about 1 minute.
Trim any excess skin from duck legs, then pat duck dry and sprinkle with 1/4 teaspoon salt and 1/4 teaspoon pepper.
Heat 1/4 teaspoon oil in a wide 6- to 8-quart heavy pot over moderately high heat until hot but not smoking, then brown duck legs, skin sides down first, turning over once, until golden, about 9 minutes total. Transfer to paper towels to drain, reserving fat in pot.
While duck legs are browning, cut 7 tortillas into 1-inch pieces, then cut remaining tortillas into 1/8-inch-wide strips.
If necessary, add enough oil to fat in pot to measure at least 1/4 inch deep, then heat over moderate heat until hot but not smoking. Fry tortilla strips, stirring gently, until crisp and golden, about 2 minutes. Transfer with a slotted spoon to paper towels to drain. Remove and discard any dark bits. Add remaining tortilla pieces to pot and fry, stirring gently, until crisp and golden, about 2 to 4 minutes. Carefully add tomato mixture (it will spatter), then stir in broths, wine, thyme, cumin, remaining 1 1/2 teaspoons salt, and remaining teaspoon pepper. Add duck legs and bring to a simmer. Simmer, covered, 30 minutes. Reduce heat and remove lid, then gently simmer, stirring occasionally, until duck legs are very tender, about 2 1/2 hours more. (Duck legs will not be tender until end of cooking; tortilla pieces will disintegrate and thicken soup.)
Transfer duck legs to a cutting board. When cool enough to handle, discard bones from duck, then cut meat (with skin) into 1/2-inch pieces. Skim off any fat from surface of soup, then stir in duck meat. (Soup will be thick; thin with water if desired.) Season with salt and pepper and serve with tortilla strips.
