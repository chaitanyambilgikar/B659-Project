Make shallots: In skillet over moderate heat, melt butter. Add sugar and stir until dissolved. Add shallots and thyme and cook, uncovered, stirring occasionally, until beginning to brown, about 15 minutes.
Stir in oil, breaking up any clumps of sugar, reduce heat to moderately low, and set lid ajar. Simmer, partially covered, until shallots are deep golden brown, silky, and falling apart, 1 to 1 1/2 hours. If liquid completely evaporates before shallots reach desired consistency, add 1 tablespoon water as needed.
Discard thyme sprigs and stir in salt and pepper. Keep warm, covered. (Shallots can be made up to 1 week ahead and refrigerated. Gently reheat in microwave before serving.)
Make potatoes: Preheat oven to 350°F. Prick potatoes all over with fork and wrap together in aluminum foil packet. Bake until tender, about 1 1/2 hours. (Potatoes can be baked up to 2 days ahead and refrigerated; rewarm in microwave before continuing.)
In small saucepan over low heat, bring milk to simmer. While potatoes are still warm, halve and scoop out flesh into large bowl. Add hot milk, butter, sour cream, salt, and pepper. Using potato masher, mash until smooth. (Potatoes can be mashed up to 1 day ahead and refrigerated; rewarm in microwave before serving.) Top with shallot confit and serve immediately.
