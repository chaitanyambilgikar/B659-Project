Prepare husks: Soak corn husks in a large bowl of hot water, weighting with an inverted heavy plate to keep submerged, turning husks occasionally, until soft, about 30 minutes. Rinse husks under running water, separating them (and discarding torn, tough, or badly discolored husks). Pile best husks on a plate and cover with a damp kitchen towel. Tear some of the thickest husks into 1/2-inch-wide strips to use as ties. (Keep ties damp as well.)
Prepare filling: Simmer corn in stock, uncovered, stirring occasionally, 10 minutes. Stir in milk and purée in a blender until smooth. Transfer to a bowl and cool completely, about 25 minutes.
Preheat broiler.
Put chiles and, if using, fresh bell pepper on a rack of a broiler pan and broil about 2 inches from heat, turning them, until skins are blistered and charred, 8 to 12 minutes. Transfer to a bowl and let stand, covered with plastic wrap, until cool enough to handle. Peel peppers and remove veins if desired. Cut tops from peppers and discard with seeds. Separately chop chiles and fresh or bottled bell pepper.
Sift masa harina with baking powder and salt into a bowl. Beat butter in a large bowl with an electric mixer until smooth and fluffy. Alternately beat in corn purée and masa harina mixture, 1/2 cup at a time, beating until mixture forms a fluffy and moist but fairly stiff dough. Divide filling in half and stir chiles into one half and bell pepper and scallion into the other. Season both fillings with salt.
Assemble tamalitos: Put 1 husk on a work surface, pointy end facing you, and, spreading it flat, mound 2 tablespoons filling (about the size of an egg) in center. Bring pointy end of husk up and over mound of filling and fold sides of husk over filling, overlapping. Now gather the protruding end of husk and tie it with a corn-husk strip. (This little purse will expand slightly as the tamalito is steamed.) Assemble remaining tamalitos in same manner.
Stack tamalitos, in a crosshatch pattern so steam can move freely around them, in a large steamer basket. (Tamalitos can also be steamed in batches.) Set steamer over boiling water in a deep heavy pot, without tamalitos touching water, and cover with a folded kitchen towel. (Towel absorbs condensation so tamalitos don't get soggy.) Steam tamalitos, covered with lid, adding more boiling water as necessary, until filling is tender but no longer mushy, about 45 minutes. (If any part is still gummy, steam 10 to 15 minutes more.)
