Whisk together sugar, cornstarch, cocoa powder, and a pinch of salt in a 2-quart heavy saucepan, then gradually whisk in milk and cream. Bring to a boil over moderately high heat, whisking constantly, then boil, whisking, 2 minutes. (Mixture will be thick.) Remove from heat. Whisk in chocolate and vanilla until smooth.
Transfer to a bowl and chill pudding, its surface covered with wax paper (to prevent a skin from forming), until cold, at least 2 hours.
