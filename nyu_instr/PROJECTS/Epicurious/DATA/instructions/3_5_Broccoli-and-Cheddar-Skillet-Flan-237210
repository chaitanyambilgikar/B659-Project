Put oven rack in middle position and preheat oven to 375°F.
Whisk together eggs, milk, pepper, nutmeg, and 1/4 teaspoon salt until combined, then whisk in Cheddar and 3 tablespoons parmesan.
Heat oil in a well-seasoned 10-inch cast-iron skillet over moderately high heat until hot but not smoking, then sauté shallot, stirring occasionally, until browned, about 3 minutes. Add hash browns and remaining 1/2 teaspoon salt and cook, stirring occasionally, 3 minutes. Spread potatoes evenly in skillet and cook, undisturbed, 2 minutes. Remove from heat and spread broccoli over potatoes, then pour in egg mixture. Sprinkle with remaining parmesan. Bake until set 2 inches from edge but still slightly wobbly in center, 12 to 15 minutes.
Turn on broiler. Broil 4 to 5 inches from heat until top is set, puffed, and golden brown.
