Make cupcakes: Preheat oven to 350°F.
Whisk together flour, baking powder, and salt in a bowl.
Beat together peanut butter, butter, and brown sugar in a large bowl with an electric mixer at medium speed until blended, about 2 minutes. Add egg and vanilla and beat until fluffy, about 1 minute. Reduce speed to low and add flour mixture and milk alternately in batches, beginning and ending with flour mixture, then mix until just combined.
Divide batter among lined muffin cups (about two-thirds full) and bake in middle of oven until pale golden and a tester inserted in center of a cupcake comes out clean, 18 to 20 minutes. Turn cupcakes out onto a rack and cool completely.
Make icing while cupcakes cool: Bring cream to a boil in a small saucepan, then pour over chocolate in a small bowl. Let stand 1 minute, then whisk until smooth.
To thicken icing to spreading consistency quickly, spread it on a metal baking sheet and chill until thick and glossy, about 5 minutes. Scrape icing back into bowl and stir until smooth. Spread icing on cupcakes and sprinkle with peanuts.
