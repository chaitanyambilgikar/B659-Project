Make cookies: Whisk together flour, baking powder, salt, cardamom, cinnamon, and allspice in a bowl.
Beat together butter and sugar in a large bowl with an electric mixer at medium-high speed until pale and fluffy, about 2 minutes in a stand mixer (preferably fitted with paddle attachment) or 4 minutes with a handheld. Beat in eggs and vanilla. Reduce speed to low, then mix in flour mixture until just combined.
Form dough into 2 (12-inch) logs (1 1/2 inches in diameter), each on its own sheet of plastic wrap. Use plastic wrap and your hands to roll, press, and square off sides of logs. Chill logs on a baking sheet until slightly firm, about 1 hour, then smooth logs with plastic wrap and flat side of a ruler to achieve straight sides. Chill logs on baking sheet until firm, about 1 hour.
Put oven racks in upper and lower thirds of oven and preheat oven to 350°F.
Cut enough scant 1/4-inch-thick slices from a log with a knife to fill 2 large ungreased baking sheets, arranging slices about 1 inch apart (chill remaining dough, wrapped in plastic wrap).
Bake cookies, switching position of sheets halfway through baking, until edges are golden, 10 to 12 minutes total. Cool on sheets 3 minutes, then transfer to racks to cool completely. Make more cookies with remaining dough on cooled baking sheets.
Ice cookies: Whisk together espresso powder, vanilla, and 1 1/2 tablespoons milk until espresso powder is dissolved, then add confectioners sugar and enough additional milk to make a thick but pourable icing. Spoon into a sealable bag and snip 1/8 inch off a bottom corner.
Spoon melted chocolate into another sealable bag and snip 1/8 inch off a bottom corner.
Pipe some espresso icing and chocolate over each cookie and let cookies stand on racks until icing sets, about 2 hours.
