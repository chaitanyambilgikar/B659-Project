Marinate chicken 1 day ahead: Bring water to a simmer in a small saucepan, then stir in mushrooms and simmer 10 minutes. Cool to room temperature, then strain through a sieve into a large bowl. Discard stems, then chill mushroom caps, covered, until ready to braise chicken. Stir remaining marinade ingredients into mushroom liquid, then add chicken and marinate, chilled, stirring occasionally, 1 day.
Brown chicken in 3 batches and make sauce: Remove chicken from marinade and pat dry (discard marinade).
Heat oil in a 12-inch heavy nonstick skillet over medium-high heat until hot. Just before browning each batch of chicken, sprinkle with 1 teaspoon kosher salt. Brown, skin side down first, about 3 minutes per side. Transfer to a plate.
Pour off all but 1 tablespoon oil from skillet, then reduce heat to medium-low and sauté ginger, stirring, 1 minute (do not brown). Add white wine and Shaoxing and boil until reduced by three fourths, about 5 minutes. Add broth, 1 1/2 cups water, sugar, soy sauce, white pepper, and remaining 2 teaspoons kosher salt and bring to a simmer.
Combine cornstarch and remaining 2 tablespoons cold water and whisk into sauce, then boil 1 minute.
Braise chicken: Transfer chicken, skin side up, to a 6-to 8-quart heavy pot (place white meat on top). Add sauce, chestnuts, and reserved mushroom caps. Gently simmer, covered, until chicken is just cooked through, 15 to 25 minutes.
Cut breasts in half and return to pot. Add ham. Gently simmer 3 minutes more.
