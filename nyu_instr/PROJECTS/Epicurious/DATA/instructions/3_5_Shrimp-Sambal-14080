Make sambal paste: To a food processor with motor running add sambal paste ingredients, 1 at a time through feed tube, and purée mixture to a paste.
Shell shrimp, leaving tail and connecting shell segment intact, and devein. In a colander rinse shrimp and drain well. Halve onions lengthwise and cut halves lengthwise into julienne strips.
Heat a large heavy skillet over moderately low heat until hot. Cook sambal paste in oil, stirring, until fragrant, about 5 minutes. Add onions and cook, stirring, until softened. Stir in coconut milk, brown sugar, and salt and bring to a boil. Add shrimp and lime juice and cook over moderate heat, stirring occasionally, until shrimp are just cooked through, about 5 minutes.
Divide shrimp sambal among 4 plates and serve with rice.
