Pulse onion and ginger in a food processor until finely chopped. Cook onion mixture with salt and sugar in oil in a 12-inch heavy skillet over moderate heat, stirring frequently, until onion begins to brown, about 5 minutes. Stir in curry powder and chiles and cook, stirring frequently, 2 minutes. Stir in water, coconut milk, and lime juice and simmer, stirring occasionally, until thickened, 5 to 8 minutes.
While sauce simmers, peel shrimp (devein if desired) and season with salt and pepper. Add shrimp to sauce and simmer, stirring occasionally, until shrimp are just cooked through, about 3 minutes. Add salt to taste and serve immediately.
