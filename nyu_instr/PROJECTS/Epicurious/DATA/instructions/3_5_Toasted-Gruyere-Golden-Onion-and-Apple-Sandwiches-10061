In a 10-inch heavy skillet heat oil over moderate heat until hot but not smoking and cook onions with rosemary, stirring occasionally, until golden, about 10 minutes. Stir in vinegar and salt and pepper to taste and cook until vinegar evaporates. Cool onion mixture.
Preheat broiler.
On a baking sheet toast both sides of bread about 3 inches from heat until golden. Core apple with a melon-ball cutter and cut crosswise into very thin slices. Divide onion mixture among toasts, spreading evenly, and cover with overlapping apple slices. Cover apple slices with Gruyère and broil sandwiches until cheese is melted and bubbling, about 1 minute.
