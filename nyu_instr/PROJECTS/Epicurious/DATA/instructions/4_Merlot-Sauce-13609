In a small heavy saucepan bring water with sugar to a boil, stirring until sugar is dissolved. Boil syrup, without stirring, until a golden caramel. Remove pan from heat and carefully add vinegar down side of pan (caramel will steam and harden). Cook caramel over moderate heat, stirring, until dissolved, about 3 minutes, and remove pan from heat.
In a heavy saucepan cook onion in butter over moderate heat, stirring, until golden, about 5 minutes. Stir in wine and boil until mixture is reduced to about 1 cup, about 15 minutes. Stir in stock or demiglace and boil until mixture is reduced to about 2 cups, about 10 minutes. Remove pan from heat and stir in caramel. Pour sauce through a sieve into a bowl. Sauce may be made 2 days ahead, cooled completely, and chilled, covered. Reheat sauce before serving.
