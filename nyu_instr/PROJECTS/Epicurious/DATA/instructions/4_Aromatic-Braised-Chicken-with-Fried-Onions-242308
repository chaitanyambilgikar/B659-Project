Toss all ingredients except water, oil, onion, and flour with 1 teaspoon salt in a wide heavy medium pot. Marinate chicken, covered and chilled, 1 hour.
Add water and bring to a boil, then simmer, covered, until chicken is tender, 40 minutes to 1 hour.
Meanwhile, heat 1 1/2 inches oil in a small heavy saucepan over medium heat until hot but not smoking.
Toss onion with 1 teaspoon flour, then fry in 2 batches, stirring frequently (do not let burn), until golden brown, 2 to 3 minutes per batch. Transfer with a slotted spoon to paper towels. Reserve 3 tablespoons oil.
Remove chicken from cooking liquid, reserving liquid, and gently pat dry. 3Heat reserved oil in a 12-inch heavy skillet over medium-high heat until it shimmers, then brown chicken all over, about 6 minutes total. Transfer to a platter.
Add remaining 2 teaspoons flour to fat in skillet and cook, stirring, 1 minute. Add chicken-cooking liquid (with aromatics and spices) and simmer, stirring, until slightly thickened, about 2 minutes. Season with salt and pour over chicken. Top with fried onions.
