Preheat oven to 325°F with rack in middle.
Cut 8 deep slits randomly over top and sides of pork with a paring knife. Sprinkle a little thyme and a little pepper into slits, then insert a slice of garlic and a bay leaf into each.
Sprinkle any remaining thyme, 1 1/2 teaspoons salt, and 1/2 teaspoon pepper over pork, then put in pot. Scatter onions and any leftover garlic around meat.
Add wine and bring to a boil. Cover with a sheet of parchment paper, then lid, and braise in oven until meat is very tender, 4 to 5 hours.
Cool, partially covered, about 30 minutes, then transfer meat to a platter and cool completely. Strain braising liquid through a sieve into a bowl and reserve onions. Skim off fat from braising liquid. If you have more than 2 cups liquid, simmer gently in pot until reduced. If less, add chicken broth or water.
Once pork is cool, discard bay leaves. If pork has skin, peel off and reserve. Trim excess fat from pork and remove meat from bone. Cut into 1/2-inch pieces and return to pot, then add onions.
Bring braising liquid to a simmer in a small saucepan and keep hot, covered.
Heat butter in a 12-inch heavy skillet until foaming, then stir in flour and cook over medium-high heat, stirring constantly, until light to medium brown, about 2 minutes.
Remove from heat and slowly whisk in hot braising liquid, then bring to a simmer, whisking, and simmer, skimming foam, 3 minutes. Season with salt and pepper. Reheat meat and onions in enough sauce to coat (about 1 cup) over low heat (hash should not be soupy). Serve remaining sauce on the side.
