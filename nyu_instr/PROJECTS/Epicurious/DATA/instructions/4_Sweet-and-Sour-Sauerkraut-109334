Cook onion and garlic in oil in a 3 1/2- to 4-quart heavy saucepan over moderately low heat, stirring occasionally (stir more frequently toward end of cooking), until golden brown, about 30 minutes. Increase heat to moderate, then add cumin and allspice and cook, stirring, 30 seconds. Add tomatoes (including juice), brown sugar, salt, and pepper and simmer, stirring occasionally and breaking up tomatoes, 10 minutes. Stir in sauerkraut and bring to a boil, then reduce heat and simmer, partially covered, stirring occasionally, until most of liquid is absorbed, about 30 minutes.
