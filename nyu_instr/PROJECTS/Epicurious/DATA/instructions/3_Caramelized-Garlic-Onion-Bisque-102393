Melt oil and butter in a large heavy pot over moderately low heat. Add garlic and cook, stirring occasionally, until golden brown and caramelized, 10 to 12 minutes. Add onions and shallots and cook, stirring frequently, until onions are softened, about 10 minutes. Stir in potato, vinegar, and rosemary. Increase heat to high and sauté), stirring, for 2 minutes. Add broth and bring to a boil, then simmer, uncovered, until vegetables are very soft, 20 to 25 minutes.
Purée soup in 3 batches in blender (use caution when blending hot liquids) until very smooth. Stir in cream and buttermilk and season with salt and white pepper. Serve hot.
