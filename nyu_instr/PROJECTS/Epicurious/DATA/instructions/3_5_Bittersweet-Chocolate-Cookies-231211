Whisk together flour, cocoa, baking powder, and salt in a bowl until combined.
Beat together butter and granulated sugar in a large bowl with an electric mixer at medium-high speed until pale and fluffy, about 2 minutes in a stand mixer (preferably fitted with paddle attachment) or 4 minutes with a handheld. Add egg and vanilla, beating until combined. Reduce speed to low, then add flour mixture and mix until combined well. Add chocolate and nuts and mix until just combined. Cover bowl with plastic wrap and chill dough until firm, about 30 minutes.
Put oven racks in upper and lower thirds of oven and preheat oven to 325°F.
Roll 1 scant tablespoon of dough into a 1-inch ball, then flatten slightly with palm of your hand to form a 1/3-inch-thick disk and coat with confectioners sugar. Make more cookies in same manner, arranging them 2 inches apart on ungreased baking sheets.
Bake cookies, switching position of sheets halfway through baking, until they puff up and tops crack slightly, 8 to 10 minutes total, then transfer with a metal spatula to racks to cool completely. Recoat cookies with confectioners sugar.
