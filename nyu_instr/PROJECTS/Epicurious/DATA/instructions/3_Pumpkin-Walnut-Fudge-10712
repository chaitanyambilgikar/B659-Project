In a 4-quart heavy saucepan combine the sugar, the milk, the corn syrup, the pumpkin puree, and a pinch of salt, cook the mixture over moderate heat, stirring, until the sugar is dissolved, and cook it, undisturbed, until a candy thermometer registers 238°F. Remove the pan from the heat, add the butter (do not stir it into the mixture), and let the mixture cool until it is 140°F. Stir in the vanilla and the walnuts, beat the mixture with a wooden spoon for 30 seconds to 1 minute, or until it begins to lose its gloss, and pour it immediately into a buttered 9-inch-square pan. Let the fudge cool until it begins to harden, cut it into squares, and let it cool completely. The fudge keeps, stored between sheets of wax paper in an airtight container, in a cool place for 2 weeks.
