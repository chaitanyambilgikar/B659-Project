In a large pot, heat oil over medium heat. Cook onion, stirring occasionally, until golden, 3 to 5 minutes. Add celery, carrots and garlic; cook, stirring, until vegetables soften, 3 to 5 minutes. Add wine; stir to scrape brown bits off bottom of pot. Add stock, beans, tomatoes, bay leaves and 1/4 teaspoon salt. Bring soup to a boil; reduce heat, cover, and simmer, stirring occasionally, until carrots are very soft, 15 to 20 minutes. In a blender, puree basil, walnuts, black pepper, remaining 1/4 teaspoon salt and 1/4 cup water. Transfer pesto to a bowl; wash blender. Remove bay leaves from soup; discard. In blender, carefully puree half of soup; transfer to a bowl; repeat with remaining half of soup. Divide soup among 4 bowls, dollop each with 1/4 pesto, and swirl in; serve.
