Preheat broiler.
Quarter peppers lengthwise, discarding stems, seeds, and ribs. Put skin sides up on rack of a broiler pan, and broil about 2 inches from heat until skins are blistered and charred, 8 to 12 minutes. Transfer peppers to a bowl and let stand, covered with plastic wrap, until cool enough to handle. Peel peppers and thinly slice.
Cook onions in butter in a 5- to 6-quart heavy pot over moderately low heat, covered, stirring occasionally, until soft. Stir in peppers, stock, and herbes de Provence and simmer, uncovered, 20 minutes.
Purée soup in a blender in batches (use caution when blending hot liquids). For a smoother texture, force purée through a food mill into a large bowl. Return soup to pot and season with salt, tarragon, and cayenne.
Reheat soup.
