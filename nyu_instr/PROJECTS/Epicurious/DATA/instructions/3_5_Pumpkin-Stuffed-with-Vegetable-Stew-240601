Roast root vegetables: Preheat oven to 450°F with rack in middle. Chop enough fennel fronds to measure 1 tablespoon and reserve, then discard stalks and remaining fronds. Halve bulb lengthwise, then core and cut lengthwise into 1-inch wedges.
Toss fennel wedges, parsnips, celery root, carrots, and whole shallots with 2 tablespoons oil, teaspoon salt, and 1/4 teaspoon pepper in a 17- by 12-inch shallow baking pan until coated, then roast, stirring occasionally, until lightly browned and almost tender, 30 to 40 minutes. Remove vegetables from oven. Leave oven on.
Prepare peppers and pumpkin while vegetables roast: Roast peppers on racks of gas burners over high heat, turning with tongs, until skins are blistered, 5 to 8 minutes.
Transfer peppers to a bowl and let stand, covered, until cool enough to handle. Peel peppers and discard stems and seeds. Cut peppers lengthwise into 1-inch strips.
Remove top of pumpkin by cutting a circle (6 inches in diameter) around stem with a small sharp knife. Scrape out and discard seeds and any loose fibers from inside pumpkin with a spoon (including top of pumpkin; do not discard top), then sprinkle flesh with 1/2 teaspoon salt and 1/8 teaspoon pepper. Put pumpkin in a large roasting pan.
Stuff and roast pumpkin: Pour 1 1/2 cups sauce into pumpkin and cover with top, then brush all over with remaining tablespoon oil. Roast 1 hour.
While pumpkin roasts, heat butter in a 12-inch heavy skillet over medium-high heat until foam subsides, then sauté chopped shallots until softened. Add mushrooms and sauté until they are browned and begin to give off liquid, about 8 minutes. Add wheat gluten and 1/2 teaspoon thyme, then stir in 1 1/2 cups more sauce and bring to a simmer. Remove from heat and fold in roasted root vegetables and peppers, 1/4 teaspoon salt, and 1/8 teaspoon pepper.
After pumpkin has roasted 1 hour, spoon vegetable filling into it, then cover with top. Roast until pumpkin is tender when pierced with a fork, vegetables are tender, and filling is hot, about 30 minutes more. Transfer pumpkin to a platter using 2 sturdy metal spatulas.
Stir together fennel fronds, parsley, zest, and remaining 1/2 teaspoon thyme and sprinkle half of it over filling. Stir remainder into remaining sauce and serve sauce on the side.
