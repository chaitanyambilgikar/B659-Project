Peel and devein shrimp and reserve shells. In a small saucepan simmer shells in 2 cups water 15 minutes and pour shrimp broth through a sieve into a large measuring cup. Discard shells.
While shells are simmering, in a bowl combine shrimp, lime juice, and salt to taste and chill, covered. Chop garlic and thinly slice bell pepper, and onion in oil over moderate heat, stirring occasionally, until softened, about 5 minutes. Drain, seed, and chop tomatoes.
Add flour to onion mixture and cook, stirring, 1 minute. Stir in tomatoes, coconut milk, and 1 cup shrimp broth (reserving remainder for another use if desired) and simmer, stirring occasionally, until vegetables are soft, about 20 minutes. Add shrimp to vegetable mixture and simmer, stirring occasionally, until shrimp are just cooked through, about 3 minutes.
Sprinkle shrimp mixture with scallions and cilantro and serve over rice.
