Preheat oven to 400°F.
Arrange 2 onion quarters and 2 pounds tomatoes in a small roasting pan and drizzle with 1/4 cup oil. Arrange remaining 1 pound tomatoes in a small baking pan and drizzle with remaining 1/4 cup oil.
Bake both pans of tomatoes in upper and lower thirds of oven, switching position of pans after 45 minutes, until browned, about 1 1/2 hours. Remove roasting pan and continue baking small pan of tomatoes until blackened, about 30 minutes more.
Transfer all roasted tomatoes (do not peel) and onions with a slotted spoon to a food processor, discarding liquid in pans. If your processor is small, do this in 2 batches. Pulse until coarsely chopped. (Alternatively, you can chop with an immersion blender in a deep container.)
Chop remaining 2 onion quarters and stir together with tomato mixture, serrano, cilantro, and vinegar. Season with salt and chill, covered, at least 8 hours to blend flavors. Bring to room temperature before serving.
