1. To make the buttercream: Stir the sugar and water in a small saucepan over low heat until the sugar dissolves, about 5 minutes. Increase the heat to medium and boil, without stirring, until the syrup reaches the soft-ball stage, or 250°F on a candy thermometer, about 10 minutes.
2. Meanwhile, beat the egg yolks until pale and thick, about 4 minutes. In a slow, steady stream, pour the hot syrup into the eggs, beating continuously as you pour. (Do not let the syrup touch the beaters or it will spin into threads.) Continue beating until the mixture thickens and cools to room temperature, about 10 minutes.
3. Beat in the butter and shortening, 2 tablespoons at a time, until absorbed. Gradually beat in the chocolate. Blend in the vanilla, salt, and rum if using. Do not add the flavoring too quickly or the buttercream might curdle. Chill until of spreading consistency, at least 2 hours or up to 1 week. If the buttercream firms too much, return to room temperature before using, about 1 hour.
4. Preheat the oven to 350°F. Grease the bottoms of several 9-inch round cake pans and dust with flour, tapping out the excess. Or grease and flour several large baking sheets and, using a 9-inch saucepan lid or springform pan, mark 9-inch circles on the sheets.
5. To make the batter: Beat the eggs and sugar until thick and creamy, 5 to 10 minutes. Add the vanilla and salt. Sift the flour over the top and carefully fold it in.
6. Spread about 1/4 cup of the batter evenly over the bottom of the prepared pans or over each circle on the baking sheets.
7. Bake until the edges begin to color, 5 to 7 minutes. Loosen with a spatula, invert onto a rack, and let cool. Wipe the pans, regrease, dust with flour, and repeat until there are 7 or 8 matching layers.
8. To make the caramel if using: Stir all the caramel ingredients in a small saucepan over low heat until the sugar dissolves, about 5 minutes. Stop stirring, increase the heat to medium, and cook, swirling the pan occasionally, until the syrup turns a deep amber color. Do not burn.
9. Using a lightly oiled metal spatula, spread all of the caramel evenly over one of the cake layers. Let set slightly (do not let it harden), then use an oiled knife to cut just the caramel into 8 to 10 wedges (indicating where the cake will be sliced).
10.To assemble: Place a cake layer on a serving plate, spread with 1/8-inch thick layer of buttercream, then place a second layer on top. Repeat layering the buttercream and cake layers. Cover the top of the cake with buttercream. If using the caramel layer, place on top of the cake. Cover the sides of the cake with buttercream. Chill. Store in the refrigerator for up to 1 day or in the freezer. Let stand at room temperature for at least 30 minutes before serving.
VARIATIONOblong Layer Cake: Divide the batter between two 15 1/2-by-10 1/2-inch jelly roll pans and bake. After cooling the cakes, cut each lengthwise into 3 equal pieces to make a 6-layer cake.
