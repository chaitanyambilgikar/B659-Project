Preheat oven to 350°F. and butter and flour a 9-inch square baking pan, knocking out excess flour. In a heavy 1 1/2-quart saucepan melt butter, unsweetened chocolate, and half of bittersweet chocolate, stirring, until smooth and remove pan from heat. Cool mixture 10 minutes and stir in sugar. Add eggs, 1 at a time, beating well with a wooden spoon until mixture is glossy and smooth. Stir in flour and salt until just combined.
Reserve 1/2 cup batter in a bowl. Spread remaining batter evenly in pan and bake in middle of oven 20 minutes. While bottom layer is baking, stir walnuts, marshmallows, and remaining bittersweet chocolate into reserved batter. Remove pan from oven and spoon walnut-marshmallow mixture evenly over partially baked layer. Bake brownies until marshmallows are pale golden, 7 to 10 minutes. Cool brownies completely in pan on a rack before cutting into 16 squares. Brownies keep, layered between sheets of wax paper in an airtight container at cool room temperature, 5 days.
