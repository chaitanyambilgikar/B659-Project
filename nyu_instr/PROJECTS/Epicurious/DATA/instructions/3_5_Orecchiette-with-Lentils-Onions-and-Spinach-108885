Heat oil in a 12-inch heavy skillet over moderate heat until hot but not smoking, then stir in onions, garlic, salt, pepper, and bay leaf. Reduce heat to moderately low and cook, covered, stirring occasionally, until onions are very tender and golden, 20 to 25 minutes. Discard bay leaf.
While onions cook, cover lentils with water by 1 inch in a 1 1/2- to 2-quart saucepan and boil over moderate heat, covered, until lentils are just tender and most of water is absorbed, 15 to 20 minutes. Season with salt and pepper and let stand, covered, until ready to use.
Cook pasta in a 6- to 8-quart pot of boiling salted water until al dente. Reserve 1 cup cooking water, then drain pasta in a colander and return pasta to pot.
Add onions, lentils, and spinach to pasta, then toss with just enough reserved cooking water to wilt spinach and moisten pasta. Add cheese and salt and pepper to taste, tossing to combine.
