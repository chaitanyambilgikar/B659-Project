Cook onion, garlic, and ginger in 1 tablespoon oil in a 5-quart heavy pot over moderate heat, covered, stirring occasionally, until onion is softened, about 4 minutes. Add pumpkin and wine and boil, uncovered, until wine is reduced by about half, about 5 minutes. Stir in stock and simmer, covered, until pumpkin is tender, about 20 minutes.
Heat remaining tablespoon oil in a 10-inch heavy skillet over moderately high heat until hot but not smoking, then sauté lemongrass, galangal, and chiles to taste, stirring, until lightly browned, about 1 minute. Remove from heat.
Purée pumpkin mixture in batches (use caution when blending hot liquids) and return to pot. Stir in lemongrass mixture, lime leaves, lime juice, fish sauce, and sugar. Simmer, uncovered, 20 minutes. Pour soup through a sieve, discarding solids, and season well with salt and pepper.
