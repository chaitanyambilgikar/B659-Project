In a stockpot or kettle (at least 6-quart) cook onions in butter over moderate heat, stirring, until golden. Add leeks, carrots, celery, mushrooms, potato peelings, and 1/3 cup water and simmer, covered, stirring occasionally, 5 minutes. Add remaining 12 cups water, lentils, garlic, peppercorns, thyme, bay leaf, parsley, and salt and bring to a boil. Simmer mixture, uncovered, 2 hours. Pour stock through a fine sieve into a heatproof bowl and cool, uncovered. Stock keeps, covered and chilled, 1 week, or frozen in an airtight container, 3 months. Remove fat before using.
