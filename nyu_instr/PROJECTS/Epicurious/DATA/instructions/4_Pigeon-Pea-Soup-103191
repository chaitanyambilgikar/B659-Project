Simmer peas, ham, water, and broth in a 4-quart heavy pot, uncovered, 30 minutes. Make sofrito while peas simmer: Cook jalapeño, bell pepper, ají dulce chiles, onion, and garlic in oil in a skillet over moderate heat, stirring occasionally, until softened. Add cilantro, tomato, and thyme and cook, stirring occasionally, until thickened, about 4 minutes. Season sofrito with salt and pepper.
Simmer and season stew: Stir sofrito and squash into pea mixture and simmer, uncovered, stirring occasionally, until squash is tender and liquid is reduced by half, about 30 minutes. Mash garlic clove and cilantro to a paste with a mortar and pestle, then season with salt and pepper and add to stew. Grate plantain on large holes of a grater directly into stew and season stew with salt and pepper.
