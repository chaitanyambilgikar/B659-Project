If desired, sterilize jars , lids, and screw bands.
Chill 2 small plates (for testing marmalade).
Cook all ingredients, including reserved juices from tomatoes, in pot over moderate heat, stirring frequently, until sugar is dissolved, about 6 minutes. Simmer, stirring frequently as marmalade thickens (to prevent scorching) and adjusting heat as needed, until marmalade tests done, 50 minutes to 1 1/4 hours. Begin testing for doneness after 50 minutes: Drop a spoonful of marmalade on a chilled plate, then tilt; it should remain in a mound and not run (if necessary, remove pot of marmalade from heat while testing).
If not processing, cool marmalade, uncovered, then chill in an airtight container (preferably glass).
If processing, drain jars upside down on a clean kitchen towel 1 minute, then invert. Ladle marmalade into jars, leaving 1/4 inch of space at top. Run a thin knife between marmalade and jar to eliminate air bubbles.
Seal, process, and store filled jars (and boil marmalade in jars 10 minutes).
Let marmalade stand in jars at least 1 day for flavors to develop.
