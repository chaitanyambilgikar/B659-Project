Whisk together cornstarch, 1/4 cup sugar, 1/4 cup cocoa, and a pinch of salt in a heavy medium saucepan, then gradually whisk in milk. Bring to a boil, whisking constantly, then boil, whisking, until thickened, about 3 minutes. Remove from heat and whisk in chopped chocolate and butter until melted. Transfer pudding to a metal bowl and quick-chill by setting in an ice bath and stirring occasionally, about 10 minutes.
Meanwhile, beat cream with vanilla and remaining 2 tablespoons sugar and 1 tablespoon cocoa until it just holds stiff peaks. Layer pudding and cream in 8-ounce glasses. Serve dusted with cocoa.
