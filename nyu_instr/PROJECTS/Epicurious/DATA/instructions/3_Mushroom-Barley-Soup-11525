In a small bowl soak dried mushrooms (if using) in the boiling water 20 minutes and transfer to a cutting board, reserving liquid. Discard stems of shiitake (if using) and slice mushrooms thin. Strain reserved liquid through a fine sieve lined with a dampened paper towel into another small bowl.
In a heavy kettle (at least 5 quarts) cook garlic in oil over moderate heat, stirring, until golden. Add onions and cook, stirring, until pale golden. Add white mushrooms, dried mushrooms (if using), and soy sauce and sauté over moderately high heat, stirring, until liquid mushrooms give off is evaporated. Add Sherry and boil until evaporated.
Add broth, water, strained mushroom-soaking liquid, barley, carrots, and dried herbs to mushroom mixture and simmer, covered, 1 hour. Season soup with salt and pepper. Soup may be prepared up to this point 4 days ahead (cool uncovered before chilling covered.)
Just before serving, stir in parsley.
