Make custard: Beat together yolks, sugar, cornstarch, and a pinch of salt in a bowl with an electric mixer until thick and pale, about 1 minute. Heat milk in a 2-quart heavy saucepan over moderate heat until hot but not boiling. Add one third of hot milk to yolk mixture in a slow stream, whisking constantly. Pour remainder of milk into yolk mixture, whisking, then transfer to saucepan. Simmer, whisking constantly, until very thick, 1 1/2 to 2 minutes. Remove from heat and add chocolate, liqueur, butter, and espresso powder. Let stand until chocolate is melted, about 1 minute, then whisk until smooth. Force custard through a fine sieve into a bowl. Cover surface of custard with wax paper and chill until cold, at least 4 hours.
Make tartlet shells while custard chills: Pulse together flour, sugar, salt, butter, egg, and vanilla in a food processor until dough is smooth and begins to form a ball (it will be soft, like cookie dough). Turn out dough onto a sheet of plastic wrap and gather into a ball. Flatten dough into a disk and chill, wrapped in plastic wrap, until firm, at least 30 minutes and up to 8 hours (overnight).
Preheat oven to 350°F.
Break off 1-teaspoon pieces of dough and press evenly into molds with floured fingers to form shells about 1/16 inch thick, pinching off excess from rim and making bottoms slightly thinner than sides. Arrange molds 1 inch apart in a shallow baking pan and chill until dough is firm again, about 30 minutes.
Bake in middle of oven, rotating pan halfway through baking, until pale golden, 12 to 15 minutes total. Transfer molds to a rack to cool, then carefully remove shells from molds. Make more tartlet shells in same manner if desired.
Assemble tartlets: Fill pastry bag with custard and pipe decoratively into shells.
